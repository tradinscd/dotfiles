#! /bin/bash

# This is a script that toggles between two audio outputs.

# Needs an improvement: don't toggle based on whether a file exists, but which audio I'm currently using.
# Also, so that it doesn't require restarting applications, e.g., mpd, firefox.

TOGGLE=~/bin/config/.audiotoggle

if [ ! -e $TOGGLE ]; then
    touch $TOGGLE
    ln -sf ~/bin/config/asound.hdmi-disconnected ~/.asoundrc
    #pkill mpd
    #mpd ~/.config/mpd/mpd.conf &
    #mpdas &
    echo "You're using the Laptop audio."
else
    rm $TOGGLE
    ln -sf ~/bin/config/asound.hdmi-connected ~/.asoundrc
    #pkill mpd
    #mpd ~/.config/mpd/mpd.conf &
    #mpdas &
    echo "You're using the HDMI audio."
fi
