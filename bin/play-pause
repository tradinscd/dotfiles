#!/bin/bash
# Cycles play/pause among audio applictions. It is prioritized such that certain
# applications are always paused whenever the higher priority one is running.

if [[ -n $(pgrep mpv) ]]; then
    echo "cycle pause" > ~/bin/config/mpv-control
    if [[ -n $(pgrep mpd) ]]; then
        ncmpcpp pause
    fi
    if [[ -n $(pgrep spotify) ]]; then
        playerctl pause
    fi
elif [[ -n $(pgrep spotify) ]]; then
    playerctl play-pause
    if [[ -n $(pgrep mpd) ]]; then
        ncmpcpp pause
    fi
elif [[ -n $(pgrep mpd) ]]; then
    ncmpcpp toggle
fi
